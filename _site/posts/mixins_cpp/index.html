<p>Consider the typical problem that one often encounters in programming: you have a set of different object classes which all have similar functionality.</p>
<p>For example, let’s say you</p>
<pre><code class="language-cpp"><span class="hljs-keyword">using</span> distance_f = function&lt; <span class="hljs-keyword">double</span>(<span class="hljs-keyword">size_t</span> id1, <span class="hljs-keyword">size_t</span> id2) &gt;; 

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KDtree</span> {</span>
	distance_f;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">knn_search</span><span class="hljs-params">()</span></span>;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CoverTree</span> {</span>
  distance_f;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">knn_search</span><span class="hljs-params">()</span></span>;
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RangeTree</span> {</span>
  distance_f;	
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">knn_search</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">range_search</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<p>There’s a lot of similarity between these classes:</p>
<p>We might think that</p>
<ul>
<li>Doctor
<ul>
<li>StudyMedicine</li>
<li>SavePerson</li>
</ul>
</li>
<li>Police Officer
<ul>
<li>ArrestCriminal</li>
<li>SavePerson</li>
</ul>
</li>
<li>Construction worker
<ul>
<li>ConstructBuilding</li>
<li>TestBuildingStability</li>
</ul>
</li>
<li>Fireman
<ul>
<li>TorchFire</li>
<li>SavePerson</li>
</ul>
</li>
<li>Secretary
<ul>
<li>KeepNotes</li>
<li></li>
</ul>
</li>
</ul>
<p>All of these jobs</p>
<pre><code class="language-cpp">
</code></pre>
